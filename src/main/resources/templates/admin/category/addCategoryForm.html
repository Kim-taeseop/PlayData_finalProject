<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>카테고리 추가하기</title>

    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script>
        function submitCategory() {
            var categoryName = $('#addCategory').serialize();
            var encodedCategoryName = encodeURIComponent(categoryName);
            var adminCode = [[${adminCode}]];
            $.ajax({
                type : "post",
                url : "http://localhost:9010/category/addCategory?adminCode="+ adminCode,
                dataType: "text",
                data: {"categoryName" : encodedCategoryName},

                success: function(data, textStatus) {
                    alert("성공" + data);
                },
                error: function(xhr, textStatus, errorThrown) {
                    alert("에러가 발생했습니다.");
                },
                complete: function(xhr, textStatus) {
                    alert("작업을 완료 했습니다.");
                }
            });
        }
    </script>

</head>
<body>
<!--    <form th:action="@{/{adminCode}/addCategory(adminCode=${adminCode})}", method="get">-->
     <form id="addCategory">
        카테고리 명 : <input type="text" name="categoryName">
        <button onclick="submitCategory()">카테고리 추가</button>
    </form>
</body>
</html>